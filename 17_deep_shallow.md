# deep & shallow

### ✅ 복사 생성자 vs 대입 연산자

| 항목          | 복사 생성자                          | 대입 연산자 (`operator=`)                       |
| ----------- | ------------------------------- | ------------------------------------------ |
| **정의 목적**   | 새 객체를 **기존 객체로 초기화**            | 이미 생성된 객체에 **다른 객체를 대입**                   |
| **호출 시점**   | 객체 생성 시                         | 객체 생성 후 대입 연산자 사용 시                        |
| **기본 제공**   | C++이 자동 생성함                     | C++이 자동 생성함                                |
| **사용 예시**   | `MyClass b = a;`                | `b = a;` (b는 이미 존재해야 함)                    |
| **보통의 구현**  | 깊은 복사를 위해 **새 메모리 할당**          | 기존 메모리 정리 후 **복사 수행**                      |
| **함수 시그니처** | `MyClass(const MyClass& other)` | `MyClass& operator=(const MyClass& other)` |

---

### ✅ 깊은 복사 vs 얕은 복사

| 항목        | 얕은 복사                             | 깊은 복사                        |
| --------- | --------------------------------- | ---------------------------- |
| **개념**    | 포인터 값(주소)만 복사                     | 포인터가 가리키는 **데이터 자체**를 복사     |
| **결과**    | 여러 객체가 **같은 메모리** 공유              | 객체마다 **독립적인 메모리** 가짐         |
| **위험성**   | 한 객체가 메모리 해제 시 **다른 객체 오류 발생** 가능 | 안전하게 각각의 자원 관리 가능            |
| **사용 상황** | 간단한 구조, 리소스가 없는 경우 적절             | 동적 할당 등 **자원 관리가 필요한 경우 필수** |

---

### 🧠 간단 예시

```cpp
// 얕은 복사 (위험!)
MyClass(const MyClass& other) {
    data = other.data;  // 같은 메모리 주소 공유
}

// 깊은 복사 (안전!)
MyClass(const MyClass& other) {
    data = new int(*other.data);  // 독립 메모리 할당
}
```
