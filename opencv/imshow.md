```
// Visual Studio / Windows 응용 (윈도우용) / 빈 화면
// Opencv4.2 Nuget설치
// 구성속성>링커>고급>진입점: mainCRTStartup

#include <opencv2/opencv.hpp>
int main()
{
    cv::Mat img = cv::imread("D:/shim.jpeg"); // 이미지 읽기
    if (img.empty())
        return -1; // 파일 못 읽으면 종료

    cv::imshow("Image", img); // 창에 이미지 띄우기

    cv::waitKey(0); // 키 입력 기다리기 (무한 대기)
    return 0;
}
```

---
# 📝 코드 전체 요약
> **OpenCV를 이용해**  
> **1. 이미지를 읽고, 2. 화면에 띄운 다음, 3. 아무 키나 누를 때까지 기다렸다가 종료하는 프로그램**입니다.

---

# 📜 코드 상세 해설

```cpp
#include <opencv2/opencv.hpp>
```
- OpenCV의 모든 핵심 기능을 포함하는 헤더파일입니다.
- `Mat`, `imread`, `imshow`, `waitKey` 같은 함수들을 사용하기 위해 꼭 필요합니다.

---

```cpp
int main()
```
- C++ 프로그램의 진입점입니다. 프로그램이 여기서 시작합니다.

---

```cpp
cv::Mat img = cv::imread("D:/shim.jpeg");
```
- `imread` 함수로 `"D:/shim.jpeg"` 이미지를 읽어들입니다.
- 결과는 `img`라는 **Mat 객체**에 저장됩니다.  
  👉 즉, **shim.jpeg 파일의 픽셀 데이터가 `img` 안에 들어갑니다.**
- 경로는 절대경로(드라이브 문자 D:)로 되어있습니다.

---

```cpp
if (img.empty())
    return -1;
```
- `img.empty()`는 **이미지를 정상적으로 읽었는지** 확인합니다.
- 읽기 실패 (파일 없음, 경로 오류 등) 시 `img`는 비어 있습니다.
- 이 경우 `return -1;`로 프로그램을 비정상 종료합니다.

---

```cpp
cv::imshow("Image", img);
```
- `"Image"`라는 이름의 창(window)을 열고,
- 그 안에 `img` 이미지를 보여줍니다.
- 이때 창이 자동으로 생성되고, 내용이 업데이트됩니다.

---

```cpp
cv::waitKey(0);
```
- **키 입력을 기다립니다**.
- `0`을 넣으면 **무한 대기**합니다.
- 사용자가 키보드를 누르면 그 순간 프로그램이 다음 단계로 진행됩니다.

---

```cpp
return 0;
```
- 프로그램 정상 종료입니다.
- 운영체제에 "프로그램을 잘 끝냈다"고 알려줍니다.

---

# 🔥 흐름 요약 다이어그램

```plaintext
[이미지 파일 읽기] 
    ↓
[읽기 실패하면 종료] 
    ↓
[이미지 화면에 띄우기] 
    ↓
[키보드 누를 때까지 대기] 
    ↓
[프로그램 종료]
```

---

# 🎯 추가 팁

- `cv::waitKey(0)`이 없으면 창이 바로 닫혀서 **이미지를 볼 수 없습니다.**
- 만약 `cv::waitKey(1000)`처럼 숫자를 주면, **1000ms(=1초) 동안만 창을 띄웁니다.**
- 파일 경로 `"D:/shim.jpeg"`는 환경에 따라 수정해야 합니다. (상대경로로 바꿀 수도 있어요)
- OpenCV가 지원하는 파일 포맷은 BMP, JPG, PNG, TIFF 등이 있습니다.

---

# 📦 전체 한 줄 요약

> **"OpenCV를 사용해 이미지를 읽고, 화면에 보여준 후 키 입력을 기다리는 아주 기본적인 C++ 프로그램"**입니다.

---

혹시, 이 코드의  
- **메모리 흐름** (Mat 객체가 어떻게 메모리를 잡고/해제하는지)  
- **imshow 창 동작 원리** (OS 창과 이벤트 루프)  
- **imread 옵션들** (ex. 흑백으로 읽기)  

같은 **조금 더 깊은 해설**도 들어보고 싶나요? 🔥  
(필요하면 이어서 설명해드릴게요!)  
👉 "더 깊게" 라고만 답해주시면 됩니다! 🎯
