C++ 람다(Lambda)와 같은 현대적인 프로그래밍 언어 기능에서 언급되는 **익명성**과 **캡처**는 함수(Function)를 다루는 데 있어 매우 중요한 두 가지 개념입니다.

## 🎭 1. 익명성 (Anonymity)

**익명성**이란 **함수에 이름이 없다**는 것을 의미합니다.

### 정의

  * **익명 함수 (Anonymous Function):** 코드를 작성할 때 별도의 이름을 지정하지 않고, **필요한 위치에서 즉시 정의**하고 사용하는 함수입니다.
  * **기존 함수와의 차이:** 일반적인 C/C++ 함수는 사용하기 전에 반드시 이름을 붙여 정의해야 합니다 (예: `int add(int a, int b) { ... }`). 익명 함수는 이 과정 없이 `max` 변수에 할당된 람다처럼 즉시 사용할 수 있습니다.

### 프로그래밍에서의 장점

  * **간결성:** 코드가 짧고 명확해지며, 특히 **짧은 코드**나 **일회성 로직**을 구현할 때 유용합니다.
  * **지역성:** 함수가 사용되는 곳 바로 옆에서 정의되므로, 코드를 읽는 사람이 함수의 동작을 빠르게 파악할 수 있습니다.

### 예시 (C++ 람다)

```cpp
// 이름을 지정하지 않고, 'add'라는 변수에 함수 자체를 할당합니다.
auto add = [](int x, int y) { return x + y; };

// 변수를 통해 호출합니다.
int result = add(5, 3); // result는 8
```

-----

## 📸 2. 캡처 (Capture)

**캡처**란 익명 함수(람다)가 \*\*자신이 정의된 시점의 주변 환경(지역 변수)\*\*을 끌어와 사용하는 것을 의미합니다.

### 정의

  * **외부 변수 사용:** 람다는 기본적으로 함수 본체 외부의 지역 변수에 접근할 수 없습니다. 캡처는 람다를 정의하는 **대괄호 `[]`** 안에 외부 변수를 지정하여, 람다 내부에서 이 변수들을 사용할 수 있도록 만드는 기능입니다.
  * **클로저 (Closure):** 람다와 이 캡처된 변수들이 결합된 객체를 **클로저**라고 부릅니다. 이 클로저는 람다가 정의된 스코프(Scope)를 벗어난 후에도 캡처된 변수에 접근할 수 있게 해줍니다.

### 캡처 방법 (C++ 람다 기준)

캡처 목록 `[]` 안에 변수를 지정하는 방식에 따라 크게 두 가지가 있습니다.

1.  **값 캡처 (Capture by Value) - `[var]` 또는 `[=]`**

      * 람다가 정의되는 순간, 외부 변수의 **값**을 복사하여 사용합니다.
      * 람다 내부에서 외부 변수의 값을 변경할 수 없습니다 (기본적으로 const).
      * 예: `[a]`는 변수 `a`의 값을 복사합니다. `[=]`는 주변의 모든 지역 변수를 값으로 복사합니다.

2.  **참조 캡처 (Capture by Reference) - `[&var]` 또는 `[&]`**

      * 람다가 외부 변수의 \*\*메모리 주소(참조)\*\*를 사용하여 변수에 접근합니다.
      * 람다 내부에서 외부 변수의 **원래 값**을 변경할 수 있습니다.
      * 예: `[&a]`는 변수 `a`의 참조를 캡처합니다. `[&]`는 주변의 모든 지역 변수를 참조로 캡처합니다.

### 예시 (C++ 람다 캡처)

```cpp
int external_value = 10;
int multiplier = 5;

// 1. 참조 캡처: '&'를 사용하여 external_value를 참조로 캡처
// 2. 값 캡처: 'multiplier'를 값으로 캡처
auto multiply_and_add = [&external_value, multiplier](int x) { 
    // multiplier는 5로 고정되어 사용됨
    int result = x * multiplier; 
    
    // 캡처된 참조를 통해 외부 변수의 값을 변경
    external_value += result; 
    
    return result;
};

int value = multiply_and_add(2); // (2 * 5) = 10
// 호출 후 external_value는 10 + 10 = 20이 됩니다.
```

**결론적으로,** **익명성**은 함수의 **이름**에 관한 것이고, **캡처**는 람다가 외부 \*\*데이터(변수)\*\*에 접근하는 방식에 관한 것입니다. 이 두 기능이 결합하여 C++ 람다는 유연하고 강력한 기능을 제공합니다.
